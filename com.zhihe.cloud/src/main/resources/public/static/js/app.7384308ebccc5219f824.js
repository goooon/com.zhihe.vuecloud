webpackJsonp([2],{"+BTi":function(e,t){},"2rGO":function(e,t){},"3IUO":function(e,t){},"4+Q3":function(e,t){},"4/uH":function(e,t){},"5W1q":function(e,t){},"6VMs":function(e,t){},"6wne":function(e,t){},"7tRJ":function(e,t,n){e.exports=n.p+"static/img/git5.6b8002f.png"},FCQs:function(e,t){},GHCG:function(e,t,n){e.exports=n.p+"static/img/git4.a103b6c.png"},NHnr:function(e,t,n){"use strict";function o(e){n("3IUO")}function i(e){n("gcc+")}function s(e){n("jX/E")}function a(e){n("ukJO")}function r(e){n("eBGu")}function c(e){n("FCQs")}function u(e){n("SNQH")}function d(e){n("6wne")}function l(e){n("4/uH")}function m(e){n("4+Q3")}function h(){return Zt()({method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:en,auth:{username:"paascloud-client-uac",password:"paascloudClientSecret"},params:{refreshToken:$n.getters.getRefreshToken,accessToken:$n.getters.getAccessToken}})}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(){window.location.href="http://localhost/login"}Object.defineProperty(t,"__esModule",{value:!0});var w=(n("cwe7"),n("2X9z")),_=n.n(w),P=(n("oq7i"),n("+TD8")),C=n.n(P),y=(n("2rGO"),n("nu7/")),k=n.n(y),b=(n("Yq4J"),n("+BTi"),n("qubY")),E=n.n(b),R=n("7+uW"),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-in w"},[e._m(0),e._v(" "),n("div",{staticClass:"header-r"},[n("ul",[n("li",[n("a",{staticClass:"header-font",on:{click:function(t){e.loadPage("Register")}}},[e._v("注册")])]),e._v(" "),n("li",[n("a",{staticClass:"header-font",on:{click:function(t){e.loadPage("Login")}}},[e._v("登录")])])])])])])},F=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"header-l"},[o("img",{attrs:{src:n("iQH9")}}),e._v(" "),o("ul",[o("li",[o("a",{staticClass:"header-font",attrs:{href:"http://mall.gdhub.net",target:"_blank"}},[e._v("商城")])]),e._v(" "),o("li",[o("a",{staticClass:"header-font",attrs:{href:"https://gitee.com/gdhub/paascloud-master",target:"_blank"}},[e._v("码云")])]),e._v(" "),o("li",[o("a",{staticClass:"header-font",attrs:{href:"https://github.com/gdhub/paascloud-master",target:"_blank"}},[e._v("GITHUB")])]),e._v(" "),o("li",[o("a",{staticClass:"header-font",attrs:{href:"http://blog.gdhub.net",target:"_blank"}},[e._v("BLOG")])])])])}],$={render:T,staticRenderFns:F},S=$,x=n("VU/8"),N=o,U=x(null,S,!1,N,null,null),I=U.exports,L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer-big"},[n("div",{staticClass:"footer-inner w"},[n("a",{staticClass:"footer-l",attrs:{href:"http://gdhub.net",target:"_blank"}},[e._v("© 2016 - 2017 gdhub.net 版权所有")]),e._v(" "),n("a",{staticClass:"footer-r",attrs:{href:"http://gdhub.net",target:"_blank"}},[e._v("京ICP备17045502号")])])])}],O={render:L,staticRenderFns:M},A=O,B=n("VU/8"),K=i,j=B(null,A,!1,K,null,null),H=j.exports,q={data:function(){return{timers:[],barControl:"",myOptions:this.options,myShow:this.show}},computed:{setStyle:function(){return{color:this.myOptions.textColor||"#fff",background:this.myOptions.backgroundColor||"#fc5050"}},setTime:function(){return{transition:"all "+(this.myOptions.showTime/1e3||3)+"s linear",background:this.myOptions.barColor||"#03D6D2"}},options:function(){return this.$store.getters.getNoticeOptions||{}},show:function(){return this.$store.getters.getNoticeShow||!1}},methods:{countdown:function(){var e=this;if(this.myOptions.autoClose){this.myOptions.countdownBar&&setTimeout(function(){e.barControl="count-leave"},10);var t=setTimeout(function(){e.close()},this.myOptions.showTime||3e3);this.timers.push(t)}},close:function(){this.$emit("close"),this.myOptions={}}},watch:{options:function(){this.myOptions=this.options,this.barControl="",this.timers.forEach(function(e){window.clearTimeout(e)}),this.timers=[],this.countdown()},show:function(e){this.myShow=e}}},V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"slide"}},[e.myShow?n("div",{staticClass:"notification fixed",style:e.setStyle},[e.myOptions.autoClose?e._e():n("div",{staticClass:"delete",on:{click:function(t){e.close()}}}),e._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.myOptions.content)}})]):e._e()]),e._v(" "),e.myShow&&e.myOptions.autoClose&&e.myOptions.countdownBar?n("div",{staticClass:"countdown",class:e.barControl,style:e.setTime}):e._e()],1)},z=[],G={render:V,staticRenderFns:z},D=G,J=n("VU/8"),Q=s,W=J(q,D,!1,Q,"data-v-1980fbdc",null),Y=W.exports,Z={components:{PcAuthHeader:I,PcAuthFooter:H,PcNotice:Y}},X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"auth-contanier"},[n("pc-auth-header"),e._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"main-big w"},[n("pc-notice",{on:{close:function(t){e.$store.dispatch("close_notice")}}}),e._v(" "),n("router-view")],1)]),e._v(" "),n("pc-auth-footer")],1)])},ee=[],te={render:X,staticRenderFns:ee},ne=te,oe=n("VU/8"),ie=a,se=oe(Z,ne,!1,ie,null,null),ae=se.exports,re={data:function(){return{imageCode:"",deviceId:"",loginForm:{loginName:"",loginPwd:"",captchaCode:""}}},mounted:function(){this.getImage()},methods:{doLogin:function(){var e=this.formValidate();if(!e.status)return void this.$store.dispatch("new_notice",{autoClose:!0,content:e.msg});this.login()},login:function(){var e=this,t=this.loginForm.loginName,n=this.loginForm.loginPwd;this.$http({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",deviceId:this.deviceId},url:"/uac/auth/form",auth:{username:"paascloud-client-uac",password:"paascloudClientSecret"},params:{username:t,password:n,imageCode:this.loginForm.captchaCode}}).then(function(t){e.getImage(),t&&200===t.code&&(e.$store.dispatch("update_auth_token",t.result),window.location.href=e.redirectUri)}).catch(function(e){console.log(e)})},getImage:function(){this.deviceId=(new Date).getTime();var e=this;e.$http({method:"POST",url:"/uac/auth/code/image",headers:{deviceId:e.deviceId}}).then(function(t){e.imageCode="data:image/jpg;base64,"+t.result})},rememberMeFn:function(){this.$store.dispatch("update_remember_me")},formValidate:function(){var e={status:!1,msg:""};return this.validate(this.loginForm.loginName,"require")?this.validate(this.loginForm.loginPwd,"require")?this.validate(this.loginForm.captchaCode,"require")?(e.status=!0,e.msg="验证通过",e):(e.msg="验证码不能为空",e):(e.msg="密码不能为空",e):(e.msg="用户名不能为空",e)}},computed:{rememberMe:function(){return this.$store.getters.getRememberMe},redirectUri:function(){return this.$store.getters.getRedirectUri}}},ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"inline-block","margin-bottom":"60px"}},[n("img",{staticClass:"main-img",attrs:{src:"http://img.gdhub.net/login/paascloud/paascloud.png",alt:""}}),e._v(" "),n("div",{staticClass:"res"},[n("div",{staticClass:"main-top"},[n("i",{staticClass:"fa fa-user-o",attrs:{"aria-hidden":"true"}}),e._v(" "),n("span",{staticClass:"login"},[e._v("登录")]),e._v(" "),n("a",{staticClass:"login-register",attrs:{href:"#"},on:{click:function(t){e.loadPage("Register")}}},[e._v("注册")])]),e._v(" "),n("div",{staticClass:"main-bot"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.loginName,expression:"loginForm.loginName"}],staticClass:"login-input",attrs:{type:"text",placeholder:"请输入帐号"},domProps:{value:e.loginForm.loginName},on:{keyup:function(t){return"button"in t||13===t.keyCode?e.doLogin(t):null},input:function(t){t.target.composing||e.$set(e.loginForm,"loginName",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.loginPwd,expression:"loginForm.loginPwd"}],staticClass:"login-input",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.loginForm.loginPwd},on:{keyup:function(t){return"button"in t||13===t.keyCode?e.doLogin(t):null},input:function(t){t.target.composing||e.$set(e.loginForm,"loginPwd",t.target.value)}}}),e._v(" "),n("div",{staticClass:"image-code-div"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.captchaCode,expression:"loginForm.captchaCode"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.loginForm.captchaCode},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"captchaCode",t.target.value)}}}),e._v(" "),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageCode,expression:"imageCode"}],on:{click:e.getImage}})]),e._v(" "),n("div",{staticClass:"main-password"},[n("input",{staticClass:"button",attrs:{id:"button",type:"checkbox",value:"Bike",title:""},domProps:{checked:e.rememberMe},on:{click:e.rememberMeFn}}),e._v(" "),n("label",{staticClass:"remMe",attrs:{for:"button"}},[e._v("记住我")]),e._v(" "),n("a",{staticClass:"fog",on:{click:function(t){e.loadPage("ResetPwdEmail")}}},[e._v("忘记密码?")])]),e._v(" "),n("button",{staticClass:"login",on:{click:e.doLogin}},[e._v("登录")]),e._v(" "),e._m(0),e._v(" "),e._m(1)])])])},ue=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"other"},[n("hr"),n("p",[e._v("其他方式登录")]),n("hr")])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"last"},[o("a",{attrs:{href:"#"}},[o("img",{attrs:{src:n("e5U1"),alt:""}})]),e._v(" "),o("a",{attrs:{href:"#"}},[o("img",{attrs:{src:n("gg7b"),alt:""}})]),e._v(" "),o("a",{attrs:{href:"#"}},[o("img",{attrs:{src:n("ZAYQ"),alt:""}})]),e._v(" "),o("a",{attrs:{href:"/uac/auth/qq"}},[o("img",{attrs:{src:n("GHCG"),alt:""}})]),e._v(" "),o("a",{attrs:{href:"/auth/weixin"}},[o("img",{attrs:{src:n("7tRJ"),alt:""}})])])}],de={render:ce,staticRenderFns:ue},le=de,me=n("VU/8"),he=r,pe=me(re,le,!1,he,null,null),ge=pe.exports,fe={data:function(){return{imageCode:"",checkEmailResult:!1,resetPwdEmailForm:{imageCode:"",email:""}}},created:function(){this.getImage()},mounted:function(){},methods:{submitRestPwdWithEmail:function(){var e=this;e.$http({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",deviceId:this.deviceId},url:"/uac/auth/submitResetPwdEmail",params:this.resetPwdEmailForm}).then(function(t){200===t.code?(e.$store.dispatch("new_notice",{autoClose:!0,content:"重置密码邮件已发送，请按邮件提示重置密码"}),e.loadPage("Login")):e.getImage()}).catch(function(e){console.log(e)})},validateEmail:function(){this.checkEmailResult=!1;var e=this.resetPwdEmailForm.email;if(!e)return void console.info("邮箱不能为空");var t=this;/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e)?this.$http({method:"POST",url:"/uac/auth/checkEmailActive/"+e,data:""}).then(function(e){t.checkEmailResult=e.result}):console.info("未通过正则校验")},getImage:function(){var e=this;e.deviceId=(new Date).getTime(),this.$http({method:"POST",url:"/uac/auth/code/image",headers:{deviceId:e.deviceId},data:""}).then(function(t){e.imageCode="data:image/jpg;base64,"+t.result})}},computed:{activeSubmitButton:function(){return this.checkEmailResult}}},ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reset-outer w"},[n("div",{staticClass:"reset-pwd-phone"},[n("form",{staticClass:"send-form"},[n("header",{staticClass:"send-header"},[n("div",{staticClass:"send-title"},[e._v("发送重置密码邮件")]),e._v(" "),n("div",{staticClass:"no-send"},[n("a",{attrs:{href:"#"},on:{click:function(t){e.loadPage("Login")}}},[e._v("返回登录")])])]),e._v(" "),n("div",{staticClass:"send-content"},[n("div",{staticClass:"send-email"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPwdEmailForm.email,expression:"resetPwdEmailForm.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.resetPwdEmailForm.email},on:{blur:e.validateEmail,input:function(t){t.target.composing||e.$set(e.resetPwdEmailForm,"email",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"reset-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPwdEmailForm.imageCode,expression:"resetPwdEmailForm.imageCode"}],staticClass:"input-ma",attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.resetPwdEmailForm.imageCode},on:{input:function(t){t.target.composing||e.$set(e.resetPwdEmailForm,"imageCode",t.target.value)}}}),e._v(" "),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageCode,expression:"imageCode"}],staticClass:"captcha-code",on:{click:e.getImage}})]),e._v(" "),n("input",{class:e.activeSubmitButton?"active-reset-submit-email":"inactive-reset-submit-email",attrs:{type:"button",value:"提交"},on:{click:e.submitRestPwdWithEmail}})]),e._v(" "),n("footer",{staticClass:"reset-email"},[n("a",{on:{click:function(t){e.loadPage("ResetPwdPhone")}}},[e._v("其他方式重置密码")])])])])])},we=[],_e={render:ve,staticRenderFns:we},Pe=_e,Ce=n("VU/8"),ye=c,ke=Ce(fe,Pe,!1,ye,null,null),be=ke.exports,Ee={props:{second:{type:Number,default:60}},data:function(){return{time:0}},methods:{run:function(){this.$emit("on-run")},start:function(){this.time=this.second,this.timer()},stop:function(){this.time=0},timer:function(){this.time>0&&(this.time--,0===this.time?this.$emit("on-stop"):setTimeout(this.timer,1e3))}},computed:{text:function(){return this.time>0?this.time+"s 后重获取":"获取验证码"}}},Re=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{attrs:{type:"button",disabled:e.time>0},on:{click:e.run}},[e._v(e._s(e.text))])},Te=[],Fe={render:Re,staticRenderFns:Te},$e=Fe,Se=n("VU/8"),xe=Se(Ee,$e,!1,null,null,null),Ne=xe.exports,Ue=n("lbHh"),Ie=n.n(Ue),Le={data:function(){return{imageCode:"",deviceId:"",checkSmsCodeResult:!1,isTimerStop:!0,checkKaptchaCodeResult:!1,checkTelephoneResult:!1,resetPwdPhoneForm:{imageCode:"",mobileNo:"",smsCode:""}}},created:function(){this.getImage()},mounted:function(){},components:{PcTimerButton:Ne},methods:{submitRestPwdWithPhone:function(){var e=this;if(!this.activeSendSmsButton)return void this.$store.dispatch("new_notice",{autoClose:!0,content:"校验失败"});var t=this;t.$http({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",deviceId:this.deviceId},url:"/uac/auth/submitResetPwdPhone",params:{mobile:t.resetPwdPhoneForm.mobileNo,smsCode:this.resetPwdPhoneForm.smsCode}}).then(function(n){if(200===n.code){var o=Ie.a.get("PASSCLOUD_PAAS_resetPwdKey");console.info("resetPwdKey:",o),t.loadPage("ResetPwd",{resetPwdKey:o})}else e.getImage()}).catch(function(e){console.log(e)})},sendPhoneCode:function(){var e=this,t=this.resetPwdPhoneForm.mobileNo;if(this.isTimerStop=!1,!t)return void this.$store.dispatch("new_notice",{autoClose:!0,content:"手机号码不能为空"});this.$refs.timerBtn.start(),this.$http({method:"POST",url:"/uac/auth/code/sms",headers:{deviceId:this.deviceId},params:{mobile:t,imageCode:this.resetPwdPhoneForm.imageCode}}).then(function(t){200===t.code?console.info("发送验证码成功"):(alert(t.message),e.getImage(),e.$refs.timerBtn.stop())})},checkSmsCode:function(){var e=this,t=this;if(this.activeSendSmsButton){var n=this.resetPwdPhoneForm.mobileNo,o=this.resetPwdPhoneForm.smsCode;return n?o?void this.$http({method:"GET",url:"/uac/auth/code/sms",headers:{deviceId:t.deviceId},params:{smsCode:o}}).then(function(n){n.result||(e.$store.dispatch("new_notice",{autoClose:!0,content:n.message}),t.checkSmsCodeResult=n.result),t.checkSmsCodeResult=n.result}):void console.info("验证码不能为空",n):void this.$store.dispatch("new_notice",{autoClose:!0,content:"手机号码不能为空"})}},validatePhone:function(){this.checkTelephoneResult=!1;var e=this.resetPwdPhoneForm.mobileNo;if(!e)return void this.$store.dispatch("new_notice",{autoClose:!0,content:"手机号码不能为空"});var t=this;/^1\d{10}$/.test(e)?this.$http({method:"POST",url:"/uac/auth/checkPhoneActive/"+e,data:""}).then(function(e){e.result||t.$store.dispatch("new_notice",{autoClose:!0,content:"帐号没有激活"}),t.checkTelephoneResult=e.result}):t.$store.dispatch("new_notice",{autoClose:!0,content:"手机号码格式不正确"})},checkImageCode:function(){var e=this;this.$http({method:"GET",url:"/uac/auth/code/image",headers:{deviceId:e.deviceId},params:{imageCode:this.resetPwdPhoneForm.imageCode}}).then(function(t){e.checkKaptchaCodeResult=t.result})},getImage:function(){var e=this;e.deviceId=(new Date).getTime(),this.$http({method:"POST",url:"/uac/auth/code/image",headers:{deviceId:e.deviceId},data:""}).then(function(t){e.imageCode="data:image/jpg;base64,"+t.result})}},computed:{activeSendSmsButton:function(){return this.checkKaptchaCodeResult&&this.checkTelephoneResult},activeSubmitButton:function(){return this.activeSendSmsButton&&this.checkSmsCodeResult}}},Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reset-outer w"},[n("div",{staticClass:"reset-pwd-phone"},[n("form",{staticClass:"reset-form"},[n("header",{staticClass:"reset-header"},[n("div",{staticClass:"send-title"},[e._v("重置密码")]),e._v(" "),n("div",{staticClass:"no-reset"},[n("a",{attrs:{href:"#"},on:{click:function(t){e.loadPage("Login")}}},[e._v("返回登录")])])]),e._v(" "),n("div",{staticClass:"reset-content"},[n("div",{staticClass:"reset-phone"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPwdPhoneForm.mobileNo,expression:"resetPwdPhoneForm.mobileNo"}],staticClass:"reset-phone",attrs:{type:"text",placeholder:"手机号码"},domProps:{value:e.resetPwdPhoneForm.mobileNo},on:{blur:e.validatePhone,input:function(t){t.target.composing||e.$set(e.resetPwdPhoneForm,"mobileNo",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"reset-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPwdPhoneForm.imageCode,expression:"resetPwdPhoneForm.imageCode"}],staticClass:"inputMa",attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.resetPwdPhoneForm.imageCode},on:{blur:e.checkImageCode,input:function(t){t.target.composing||e.$set(e.resetPwdPhoneForm,"imageCode",t.target.value)}}}),e._v(" "),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageCode,expression:"imageCode"}],staticClass:"check-ma",on:{click:e.getImage}})]),e._v(" "),n("div",{staticClass:"reset-msg"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPwdPhoneForm.smsCode,expression:"resetPwdPhoneForm.smsCode"}],staticClass:"input-msg",attrs:{placeholder:"短信验证码"},domProps:{value:e.resetPwdPhoneForm.smsCode},on:{blur:e.checkSmsCode,input:function(t){t.target.composing||e.$set(e.resetPwdPhoneForm,"smsCode",t.target.value)}}}),e._v(" "),n("pc-timer-button",{ref:"timerBtn",class:e.activeSendSmsButton&&e.isTimerStop?"active-send-sms-code":"inactive-send-sms-code",on:{"on-run":e.sendPhoneCode,"on-stop":function(t){e.isTimerStop=!0}}},[e._v("发送验证码")])],1),e._v(" "),n("input",{class:e.activeSubmitButton?"active-reset-submit-phone":"inactive-reset-submit-phone",attrs:{type:"button",value:"提交"},on:{click:e.submitRestPwdWithPhone}})]),e._v(" "),n("footer",{staticClass:"reset-email"},[n("a",{on:{click:function(t){e.loadPage("ResetPwdEmail")}}},[e._v("其他方式箱重置密码")])])])])])},Oe=[],Ae={render:Me,staticRenderFns:Oe},Be=Ae,Ke=n("VU/8"),je=u,He=Ke(Le,Be,!1,je,null,null),qe=He.exports,Ve={data:function(){return{deviceId:"",activeSubmitButton:!1,resetPwdForm:{newPassword:"",confirmPwd:"",resetPwdKey:""}}},created:function(){this.checkParam()},mounted:function(){},methods:{checkParam:function(){var e=this.getUrlParam("resetPwdKey");Boolean(e)||this.goBack(),this.resetPwdForm.resetPwdKey=e},checkPwd:function(){this.activeSubmitButton=!1;var e=this.resetPwdForm.newPassword,t=this.resetPwdForm.confirmPwd;if(!e||!t||e!==t)return!1;this.activeSubmitButton=!0},restPwdFn:function(){var e=this;console.info("that.resetPwdForm,",e.resetPwdForm),this.checkPwd(),e.$http({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",deviceId:this.deviceId},url:"/uac/auth/resetLoginPwd",params:e.resetPwdForm}).then(function(t){t&&200===t.code&&(e.successTips("重置密码成功"),e.loadPage("Login"))}).catch(function(e){console.log(e)})}}},ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reset-pwd"},[n("div",{staticClass:"reset-pwd-2"},[n("form",{staticClass:"reset-pwd-form"},[e._m(0),e._v(" "),n("div",{staticClass:"send-content"},[n("div",{staticClass:"send-password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPwdForm.newPassword,expression:"resetPwdForm.newPassword"}],attrs:{type:"password",placeholder:"新密码"},domProps:{value:e.resetPwdForm.newPassword},on:{blur:e.checkPwd,input:function(t){t.target.composing||e.$set(e.resetPwdForm,"newPassword",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"send-password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPwdForm.confirmPwd,expression:"resetPwdForm.confirmPwd"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:e.resetPwdForm.confirmPwd},on:{blur:e.checkPwd,input:function(t){t.target.composing||e.$set(e.resetPwdForm,"confirmPwd",t.target.value)}}})]),e._v(" "),n("input",{class:e.activeSubmitButton?"active-reset-submit":"inactive-reset-submit",attrs:{type:"button",value:"提交"},on:{click:e.restPwdFn}})])])])])},Ge=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"send-header"},[n("div",{staticClass:"send-title"},[e._v("重置密码")])])}],De={render:ze,staticRenderFns:Ge},Je=De,Qe=n("VU/8"),We=d,Ye=Qe(Ve,Je,!1,We,null,null),Ze=Ye.exports,Xe={data:function(){return{imageCode:"",registerForm:{loginName:"",mobileNo:"",loginPwd:"",email:"",confirmPwd:"",imageCode:"",registerSource:"PC"}}},created:function(){this.getImage()},mounted:function(){},methods:{getImage:function(){this.deviceId=(new Date).getTime();var e=this;e.$http({method:"POST",url:"/uac/auth/code/image",headers:{deviceId:e.deviceId}}).then(function(t){e.imageCode="data:image/jpg;base64,"+t.result})},submit:function(){var e=this,t=this.formValidate();t.status?this.register(function(){e.$store.dispatch("new_notice",{autoClose:!0,content:"注册成功, 请登录邮箱激活用户"}),e.loadPage("Login")}):this.$store.dispatch("new_notice",{autoClose:!0,content:t.msg})},register:function(e){var t=this;this.$http({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",deviceId:this.deviceId},url:"/uac/auth/register",params:this.registerForm}).then(function(n){t.getImage(),n&&e(n)}).catch(function(e){console.log(e)})},formValidate:function(){var e={status:!1,msg:""};return this.validate(this.registerForm.loginName,"require")?this.validate(this.registerForm.email,"require")?this.validate(this.registerForm.email,"email")?this.validate(this.registerForm.loginPwd,"require")?this.validate(this.registerForm.confirmPwd,"require")?this.validate(this.registerForm.loginPwd,"pwd")?this.validate(this.registerForm.confirmPwd,"pwd")?this.registerForm.loginPwd!==this.registerForm.confirmPwd?(e.msg="两次输入的密码不一致",e):this.validate(this.registerForm.mobileNo,"require")?this.validate(this.registerForm.mobileNo,"phone")?this.validate(this.registerForm.imageCode,"require")?(e.status=!0,e.msg="验证通过",e):(e.msg="验证码不能为空",e):(e.msg="手机号格式不正确",e):(e.msg="手机号码不能为空",e):(e.msg="确认密码格式不正确",e):(e.msg="密码格式不正确",e):(e.msg="确认密码不能为空",e):(e.msg="密码不能为空",e):(e.msg="邮箱格式不正确",e):(e.msg="邮箱不能为空",e):(e.msg="用户名不能为空",e)},checkCount:function(e,t,n){this.ajax({url:"/uac/auth/checkValid",isUnMusk:!0,data:{validValue:t,type:n},success:e})}},components:{PcTimerButton:Ne}},et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"inline-block","margin-bottom":"70px"}},[n("img",{staticClass:"main-img",attrs:{src:"http://img.gdhub.net/login/paascloud/paascloud.png",alt:""}}),e._v(" "),n("div",{staticClass:"res"},[n("div",{staticClass:"main-top"},[n("i",{staticClass:"fa fa-user-o fa-lg",attrs:{"aria-hidden":"true"}}),e._v(" "),n("span",{staticClass:"register"},[e._v("注册")]),e._v(" "),n("a",{staticClass:"zhu",attrs:{href:"#"},on:{click:function(t){e.loadPage("Login")}}},[e._v("登录")])]),e._v(" "),n("div",{staticClass:"main-bot"},[n("div",{staticClass:"field-inline"},[n("p",[e._v("登录名")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.loginName,expression:"registerForm.loginName"}],staticClass:"main-input",attrs:{type:"text"},domProps:{value:e.registerForm.loginName},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"loginName",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"field-inline"},[n("p",[e._v("邮箱")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.email,expression:"registerForm.email"}],staticClass:"main-input",attrs:{type:"text"},domProps:{value:e.registerForm.email},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"email",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"field-inline"},[n("p",[e._v("密码")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.loginPwd,expression:"registerForm.loginPwd"}],staticClass:"main-input",attrs:{type:"password"},domProps:{value:e.registerForm.loginPwd},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"loginPwd",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"field-inline"},[n("p",[e._v("确认密码")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.confirmPwd,expression:"registerForm.confirmPwd"}],staticClass:"main-input",attrs:{type:"password"},domProps:{value:e.registerForm.confirmPwd},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"confirmPwd",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"field-inline"},[n("p",[e._v("手机号")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.mobileNo,expression:"registerForm.mobileNo"}],staticClass:"main-input",attrs:{type:"text"},domProps:{value:e.registerForm.mobileNo},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"mobileNo",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"register-check-dev"},[n("p",[e._v("验证码")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.imageCode,expression:"registerForm.imageCode"}],staticClass:"inputMa",attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.registerForm.imageCode},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"imageCode",t.target.value)}}}),e._v(" "),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageCode,expression:"imageCode"}],staticClass:"check-ma",on:{click:e.getImage}})]),e._v(" "),n("button",{staticClass:"register-btn",on:{click:e.submit}},[e._v("注册")])])])])},tt=[],nt={render:et,staticRenderFns:tt},ot=nt,it=n("VU/8"),st=l,at=it(Xe,ot,!1,st,null,null),rt=at.exports,ct={data:function(){return{message:"请稍候...",activeToken:""}},created:function(){this.activeToken=this.$route.query.activeToken,console.info(this.activeToken),this.activeUserFn(this.activeToken)},methods:{activeUserFn:function(e){var t=this;this.ajax({url:"/uac/auth/activeUser/"+e,success:function(e){200===e.status&&(t.message="激活用户成功, 请重新登录",t.$store.dispatch("new_notice",{autoClose:!0,content:t.message})),t.loadPage("Login")}})}}},ut=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.message)+"\n")])},dt=[],lt={render:ut,staticRenderFns:dt},mt=lt,ht=n("VU/8"),pt=m,gt=ht(ct,mt,!1,pt,null,null),ft=gt.exports,vt={Login:ge,ResetPwdEmail:be,ResetPwdPhone:qe,ResetPwd:Ze,Register:rt,ActiveUser:ft},wt=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  400\n")])},_t=[],Pt={render:wt,staticRenderFns:_t},Ct=Pt,yt=n("VU/8"),kt=yt(null,Ct,!1,null,null,null),bt=kt.exports,Et=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  404\n")])},Rt=[],Tt={render:Et,staticRenderFns:Rt},Ft=Tt,$t=n("VU/8"),St=$t(null,Ft,!1,null,null,null),xt=St.exports,Nt=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  500\n")])},Ut=[],It={render:Nt,staticRenderFns:Ut},Lt=It,Mt=n("VU/8"),Ot=Mt(null,Lt,!1,null,null,null),At=Ot.exports,Bt=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  502\n")])},Kt=[],jt={render:Bt,staticRenderFns:Kt},Ht=jt,qt=n("VU/8"),Vt=qt(null,Ht,!1,null,null,null),zt=Vt.exports,Gt={NotFoundPage:xt,ServerError:At,ParamError:bt,BadGateway:zt},Dt=n("/ocq");R.default.use(Dt.a);var Jt=new Dt.a({mode:"history",routes:[{path:"/",component:function(e){return n.e(0).then(function(){var t=[n("6f/g")];e.apply(null,t)}.bind(this)).catch(n.oe)},redirect:{name:"Login"},children:[{meta:{name:"用户登录",noRequiredAuth:!0},path:"login",name:"Login",component:vt.Login},{meta:{name:"用户注册",noRequiredAuth:!0},path:"register",name:"Register",component:vt.Register},{meta:{name:"忘记密码",noRequiredAuth:!0},path:"resetPwdEmail",name:"ResetPwdEmail",component:vt.ResetPwdEmail},{meta:{name:"忘记密码",noRequiredAuth:!0},path:"resetPwdPhone",name:"ResetPwdPhone",component:vt.ResetPwdPhone},{meta:{name:"重置密码",noRequiredAuth:!0},path:"resetPwd",name:"ResetPwd",component:vt.ResetPwd},{meta:{name:"激活用户",noRequiredAuth:!0},path:"activeUser",name:"ActiveUser",component:vt.ActiveUser}]},{path:"*",component:Gt.NotFoundPage}]}),Qt=n("Y81h"),Wt=n.n(Qt),Yt=(n("UVIz"),n("mtWM")),Zt=n.n(Yt),Xt=n("NYxO"),en="/uac/auth/user/refreshToken",tn={host:"http://localhost",lockr_prefix:"PASSCLOUD_PAAS_",secret_key:"^#rwd6Ffz$X5alRN",domain:".gdhub.net",secret:{key_str:"^#rwd6Ffz$X5alRN",iv_str:"^#rwd6Ffz$X5alRN"}};tn.domain=".gdhub.net";var nn={USER:{LOGIN_NAME:"LOGIN_NAME",MENU_LIST:"MENU_LIST",REMEMBER_ME:"REMEMBER_ME",AUTH_TOKEN:"AUTH_TOKEN",REFRESH_TOKEN:"REFRESH_TOKEN",REDIRECT_URI:"REDIRECT_URI"}},on=n("RRJN"),sn=n.n(on),an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();sn.a.prefix=tn.lockr_prefix;var cn=function(){function e(){p(this,e),this.pcPrefix=tn.lockr_prefix,this.secretKey=tn.secret_key}return rn(e,[{key:"set",value:function(t,n,o){e.checkKey(t),sn.a.set(t,n),o&&o()}},{key:"get",value:function(t){return e.checkKey(t),sn.a.get(t)}},{key:"delete",value:function(t,n){e.checkKey(t),sn.a.rm(this.pcPrefix+t),n&&n()}},{key:"add",value:function(t,n,o){e.checkKey(t),sn.a.sadd(t,n),o&&o()}},{key:"getList",value:function(t){return e.checkKey(t),sn.a.smembers(t)}},{key:"contains",value:function(t,n,o){return e.checkKey(t),sn.a.sismember(t,n)}},{key:"remove",value:function(t,n,o){e.checkKey(t),sn.a.srem(t,n),o&&o()}},{key:"removeAll",value:function(t,n){e.checkKey(t);var o=sn.a.smembers(t);for(var i in o)sn.a.srem(t,o[i]);n&&n()}},{key:"clear",value:function(e){sn.a.flush(),e&&e()}}],[{key:"checkKey",value:function(e){if(!e)throw new Error("没有找到key。");if("object"===(void 0===e?"undefined":an(e)))throw new Error("key不能是一个对象。")}}]),e}(),un=new cn,dn=n("Av7u"),ln=n.n(dn),mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),hn=function(){function e(){g(this,e),this.secretKey=tn.secret_key}return mn(e,[{key:"encrypt",value:function(e,t){return t||(t=this.secretKey),ln.a.AES.encrypt(e,t).toString()}},{key:"decrypt",value:function(e,t){var n="";t||(t=this.secretKey);try{n=ln.a.AES.decrypt(e.toString(),t||this.secretKey)}catch(e){console.info("PcEncrypt.decrypt",e)}return n.toString(ln.a.enc.Utf8)}},{key:"aesEncrypt",value:function(e,t,n){var o=ln.a.enc.Utf8.parse(e),i=ln.a.enc.Utf8.parse(t),s=ln.a.enc.Utf8.parse(n),a=ln.a.AES.encrypt(o,i,{iv:s,mode:ln.a.mode.CBC,padding:ln.a.pad.Iso10126});return ln.a.enc.Base64.stringify(a.ciphertext)}},{key:"aesDecrypt",value:function(e,t,n){var o=ln.a.enc.Utf8.parse(t),i=ln.a.enc.Utf8.parse(n);return ln.a.AES.decrypt(e,o,{iv:i,mode:ln.a.mode.CBC,padding:ln.a.pad.Iso10126}).toString(ln.a.enc.Utf8)}}]),e}(),pn=new hn,gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),vn=function(){function e(){f(this,e),this.pcPrefix=tn.lockr_prefix,this.secretKey=tn.secret_key,this.domain=tn.domain,this.expireTime=7200}return fn(e,[{key:"set",value:function(t){var n=t.key,o=t.value,i=t.expires,s=t.path,a=t.success;e.checkKey(n),n=this.pcPrefix+n,Ie.a.set(n,o,{expires:i||this.expireTime,path:s||"/",domain:this.domain}),a&&a()}},{key:"get",value:function(t){return e.checkKey(t),Ie.a.get(this.pcPrefix+t)}},{key:"delete",value:function(t){var n=t.key,o=t.path,i=t.success;e.checkKey(n),Ie.a.remove(this.pcPrefix+n,{path:o||"/",domain:this.domain}),i&&i()}},{key:"geteAll",value:function(){return Ie.a.get()}}],[{key:"checkKey",value:function(e){if(!e)throw new Error("没有找到key。");if("object"===(void 0===e?"undefined":gn(e)))throw new Error("key不能是一个对象。")}}]),e}(),wn=new vn,_n={loginName:"",rememberMe:!1,menuList:[],redirectUri:"",authToken:{access_token:"",expires_in:"",timestamp:""},refreshToken:{refresh_token:""}},Pn={getRememberMe:function(e){return e.rememberMe||(e.rememberMe=!!wn.get(nn.USER.REMEMBER_ME)),e.rememberMe},getRefreshToken:function(e){return e.refreshToken||(e.refreshToken=wn.get(nn.USER.REFRESH_TOKEN)?JSON.parse(wn.get(nn.USER.REFRESH_TOKEN)):{}),e.refreshToken.refresh_token},getAccessToken:function(e){return e.authToken||(e.authToken=wn.get(nn.USER.AUTH_TOKEN)?JSON.parse(wn.get(nn.USER.AUTH_TOKEN)):{}),e.authToken.access_token},getAuthToken:function(e){return e.authToken&&""!==e.authToken.access_token||(e.authToken=wn.get(nn.USER.AUTH_TOKEN)?JSON.parse(wn.get(nn.USER.AUTH_TOKEN)):{}),e.authToken},getRedirectUri:function(e){return e.redirectUri||(e.redirectUri=wn.get(nn.USER.REDIRECT_URI)?wn.get(nn.USER.REDIRECT_URI):"http://mall.gdhub.net"),e.redirectUri}},Cn={updateRememberMe:function(e){e.rememberMe=!e.rememberMe,console.info("state.rememberMe",e.rememberMe),e.rememberMe?wn.set({key:nn.USER.REMEMBER_ME,value:e.rememberMe}):wn.delete({key:nn.USER.REMEMBER_ME})},updateUserInfo:function(e,t){e.loginName=t,wn.set({key:nn.USER.LOGIN_NAME,value:t})},updateUserMenu:function(e,t){e.menuList=t,un.set(nn.USER.MENU_LIST,t)},updateAuthToken:function(e,t){e.authToken=t;var n=2/24;!!wn.get(nn.USER.REMEMBER_ME)&&(n=7),delete t.jti,delete t.token_type;var o={};Object.assign(o,t),delete t.refresh_token,delete o.access_token,e.refreshToken=o,console.info("token:",t),wn.set({key:nn.USER.AUTH_TOKEN,value:t,expires:n}),wn.set({key:nn.USER.REFRESH_TOKEN,value:o,expires:n})},deleteUserInfo:function(e){wn.delete({key:nn.USER.LOGIN_NAME}),e.loginName="",wn.delete({key:nn.USER.REMEMBER_ME}),e.rememberMe=!1},deleteUserMenuToken:function(e){e.menuList=[],wn.delete({key:nn.USER.MENU_LIST})},deleteAuthToken:function(e){e.authToken={},wn.delete({key:nn.USER.AUTH_TOKEN})},deleteMenuList:function(e){un.delete(nn.USER.MENU_LIST),e.menuList={}},deleteRememberMe:function(e){un.delete(nn.USER.REMEMBER_ME),e.rememberMe=""},updateRedirectUri:function(e,t){e.redirectUri=t,wn.set({key:nn.USER.REDIRECT_URI,value:t})}},yn={get_access_token:function(e,t){var n=e.commit;_n.authToken&&""!==_n.authToken.access_token||(_n.authToken=wn.get(nn.USER.AUTH_TOKEN)?JSON.parse(wn.get(nn.USER.AUTH_TOKEN)):{}),console.info("refresh_token:",_n.authToken.refresh_token),_n.authToken.access_token&&(new Date).getTime()-_n.authToken.timestamp>6e6&&h().then(function(e){console.info("res:",e),200===e.data.code?n("updateAuthToken",e.data.result):(n("deleteUserInfo"),n("deleteAuthToken"),n("deleteMenuList"),n("deleteRememberMe"),v())}),t&&t(_n.authToken.access_token)},update_remember_me:function(e){(0,e.commit)("updateRememberMe")},update_user_info:function(e,t){(0,e.commit)("updateUserInfo",t)},update_user_menu:function(e,t){(0,e.commit)("updateUserMenu",t)},delete_user_info:function(e,t){var n=e.commit;n("deleteUserInfo",t),n("deleteAuthToken"),n("deleteUserMenuToken"),n("deleteRememberMe")},update_auth_token:function(e,t){(0,e.commit)("updateAuthToken",t)},update_redirect_uri:function(e,t){(0,e.commit)("updateRedirectUri",t)}},kn={state:_n,getters:Pn,actions:yn,mutations:Cn},bn={ajaxLoading:!1,buttonLoading:!1,notice:{show:!1,options:{autoClose:!1,countdownBar:!1,content:"notice content"}}},En={getAjaxLoading:function(e){return e.ajaxLoading},getButtonLoading:function(e){return e.buttonLoading},getNoticeShow:function(e){return e.notice.show},getNoticeOptions:function(e){return e.notice.options}},Rn={showAjaxLoading:function(e){e.ajaxLoading=!0},hideAjaxLoading:function(e){e.ajaxLoading=!1},showButtonLoading:function(e){e.buttonLoading=!0},hideButtonLoading:function(e){e.buttonLoading=!1},newNotice:function(e,t){e.notice.show=!0,e.notice.options=t},closeNotice:function(e){e.notice.show=!1,e.notice.options={}}},Tn={show_ajaxLoading:function(e){var t=e.commit;return new Promise(function(e,n){t("showAjaxLoading"),e()})},hide_ajaxLoading:function(e){var t=e.commit;return new Promise(function(e,n){t("hideAjaxLoading"),e()})},show_buttonLoading:function(e){var t=e.commit;return new Promise(function(e,n){t("showButtonLoading"),e()})},hide_buttonLoading:function(e){var t=e.commit;return new Promise(function(e,n){t("hideButtonLoading"),e()})},new_notice:function(e,t){(0,e.commit)("newNotice",t)},close_notice:function(e){(0,e.commit)("closeNotice")}},Fn={state:bn,getters:En,actions:Tn,mutations:Rn};R.default.use(Xt.a),R.default.prototype.$http=Zt.a.create({timeout:6e4});var $n=new Xt.a.Store({modules:{user:kn,global:Fn}}),Sn=n("cTzj"),xn=n.n(Sn),Nn=n("bqTm"),Un=n.n(Nn),In=(n("5W1q"),{data:function(){return{}},methods:{getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return n?decodeURIComponent(n[2]):null},loadPage:function(e,t){t?this.$router.push({name:e,query:t}):this.$router.push({name:e})},successTips:function(e){this.$store.dispatch("new_notice",{autoClose:!0,content:e||"操作成功！"})},errorTips:function(e){this.$store.dispatch("new_notice",{autoClose:!0,content:e||"哪里不对了~"})},goBack:function(){this.$router.go(-1)},goHome:function(){this.loadPage("Index")},successMsg:function(e,t){this.message(e,"success",t)},errorMsg:function(e,t){this.message(e,"error",t)},warnMsg:function(e,t){this.message(e,"warning",t)},message:function(e,t,n){this.$message({showClose:n||!1,message:e,type:t})},confirmModel:function(e,t,n,o){this.ajaxBox({url:t,data:n||"",message:e,success:o})},ajax:function(e){var t=this,n=e.type,o=e.url,i=e.data,s=e.success,a=e.isUnMusk,r=e.loading;a||this.$pcNProgress.start(),r&&!this.$store.getters.getAjaxLoading&&this.$store.dispatch("show_ajaxLoading"),r&&!this.$store.getters.getButtonLoading&&this.$store.dispatch("show_buttonLoading"),this.$http({method:n||"POST",url:o||"",data:i||""}).then(function(e){t.$pcNProgress.done(),r&&t.$store.getters.getAjaxLoading&&t.$store.dispatch("hide_ajaxLoading"),r&&t.$store.getters.getButtonLoading&&t.$store.dispatch("hide_buttonLoading"),s?s(e):t.goBack()}).catch(function(e){t.$pcNProgress.done(),t.$loading=!1,r&&t.$store.getters.getAjaxLoading&&t.$store.dispatch("hide_ajaxLoading"),r&&t.$store.getters.getButtonLoading&&t.$store.dispatch("hide_buttonLoading"),console.error(e)})},ajaxBox:function(e){var t=this,n=e.type,o=e.data,i=e.url,s=e.message,a=e.success,r=e.iconType,c=e.confirmButtonText,u=e.cancelButtonText,d=e.title;if(!s)return void alert("必须输入提示信息!");var l=void 0;this.$pcMessageBox({title:d||"消息",message:s,showCancelButton:!0,confirmButtonText:c||"确定",cancelButtonText:u||"取消",type:r||"warning",closeOnPressEscape:!0,beforeClose:function(e,s,a){"confirm"===e?(s.confirmButtonLoading=!0,t.ajax({type:n,url:i,data:o,success:function(e){a(),l=e}}),setTimeout(function(){s.confirmButtonLoading=!1},400)):a()}}).then(function(){a&&a(l)}).catch(function(e){console.error(e)})},validate:function(e,t){return"require"===t?!!e:"phone"===t?/^1\d{10}$/.test(e):"email"===t?/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/.test(e):"pwd"===t?/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,14}$/.test(e):void 0}}}),Ln=In,Mn=new R.default,On=n("Q0Ca"),An=n.n(On);n("tvR6"),n("6VMs");[E.a].map(function(e){R.default.component(e.name,e)}),R.default.prototype.$ELEMENT={size:"small"},R.default.use(k.a.directive),R.default.prototype.$pcLoading=k.a.service,R.default.prototype.$pcMessageBox=C.a,R.default.prototype.$pcMessage=_.a,R.default.prototype.$confirm=C.a.confirm,R.default.prototype.$pcNProgress=Wt.a,R.default.prototype.$pcBus=Mn,R.default.prototype.$pcEnum=nn,R.default.prototype.$pcEncrypt=pn,R.default.prototype.$pcLockr=un,R.default.prototype.$pcCookie=wn,R.default.prototype.$http=Zt.a.create({timeout:6e4}),R.default.prototype.$http.defaults.baseURL="http://localhost/",R.default.prototype.$http.interceptors.response.use(function(e){return 200===e.data.code&&e.data?e.data:10011039===e.data.code||10011040===e.data.code||10011041===e.data.code?(console.info("登录超时",e.data),Promise.reject(e)):($n.dispatch("new_notice",{autoClose:!0,content:e.data.message}),Promise.reject(e))},function(e){var t={autoClose:!0,content:e.response.data.message};e.response?(console.error("error: ",e.response),500===e.response.status?t.content=e.response.data.message:401===e.response.status?($n.dispatch("delete_user_info"),t.content="登录超时, 请重新登录",window.location.href="/"):(console.log("Error",e.message),t.content="接口请求失败或超时！请刷新重试")):t.content="接口请求失败或超时！请刷新重试",$n.dispatch("new_notice",t)}),Jt.beforeEach(function(e,t,n){$n.dispatch("get_access_token",function(e){e?window.location.href=$n.getters.getRedirectUri:(Wt.a.start(),n())})}),Jt.afterEach(function(e){Wt.a.done()}),R.default.config.productionTip=!1,R.default.use(Xt.a),R.default.use(xn.a,{preLoad:1.3,error:"/static/loading-svg/loading-bars.svg",loading:"/static/loading-svg/loading-spinning-bubbles.svg",attempt:2}),R.default.use(Un.a),R.default.mixin(Ln),Object.keys(An.a).forEach(function(e){return R.default.filter(e,An.a[e])}),new R.default({router:Jt,store:$n,render:function(e){return e(ae)}}).$mount("#app")},Q0Ca:function(e,t){t.getUserStatusName=function(e){switch(e){case"ENABLE":e="启用";break;case"DISABLE":e="禁用"}return""}},SNQH:function(e,t){},UVIz:function(e,t){},Yq4J:function(e,t){},ZAYQ:function(e,t,n){e.exports=n.p+"static/img/git3.664a9e9.png"},cwe7:function(e,t){},e5U1:function(e,t,n){e.exports=n.p+"static/img/git1.a9319ea.png"},eBGu:function(e,t){},"gcc+":function(e,t){},gg7b:function(e,t,n){e.exports=n.p+"static/img/git2.372f259.png"},iQH9:function(e,t,n){e.exports=n.p+"static/img/logo.ace8712.png"},"jX/E":function(e,t){},oq7i:function(e,t){},tvR6:function(e,t){},ukJO:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7384308ebccc5219f824.js.map